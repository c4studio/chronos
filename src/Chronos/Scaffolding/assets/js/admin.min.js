const vueStore={state:{formErrors:[]},updateFormErrors:function(t){t.status&&200==t.status?this.state.formErrors=[]:this.state.formErrors=JSON.deflate(t.errors)}};Vue.directive("click-outside",{bind:function(t,e,i){if("function"!=typeof e.value){const a=i.context.name;var s="[Vue-click-outside:] provided expression '${binding.expression}' is not a function, but has to be";a&&(s+="Found in component '${compName}'"),console.warn(s)}const o=e.modifiers.bubble,n=function(i){(o||!t.contains(i.target)&&t!==i.target)&&e.value(i)};t.__vueClickOutside__=n,document.addEventListener("click",n)},unbind:function(t,e){document.removeEventListener("click",t.__vueClickOutside__),t.__vueClickOutside__=null}}),Vue.component("data-table",{created:function(){this.sortField=this.defaultSortField,this.sortDesc=this.sortReverse,this.getData(),this.$parent.$on("deleted-model-from-dialog",this.deleteModel),this.$parent.$on("perform-bulk-action",this.performBulkAction)},components:{sortable:{computed:{active:function(){return this.$parent.sortField==this.field}},props:{field:{required:!0,type:String}},template:'<a v-bind:class="{ active: active }" v-on:click="$parent.sort(field)"><slot></slot><span class="caret" v-show="!active"></span><span v-show="active" v-bind:class="{ \'caret-up\':$parent.sortDesc,\'caret-down\':!$parent.sortDesc }"></span></a>'}},data:function(){return{bulkSelector:!1,data:null,dataLoader:!1,deleteURL:null,filters:{search:""},pagination:{},searchOn:!1,selected:[],sortDesc:!1,sortField:null,toggleOn:{}}},methods:{ajaxGet:function(t,e){e===!0?vm.$emit("ajax-get",t,this.getData):vm.$emit("ajax-get",t)},clearSearch:function(){this.filters.search="",this.searchOn=!1,this.getData()},deleteModel:function(t){vm.$emit("show-loader");var e=new Modal(t);e.close(),this.$http["delete"](this.deleteURL).then(function(t){vm.$emit("hide-loader"),t.body.alerts&&t.body.alerts.forEach(function(t){vm.$emit("add-alert",t)}.bind(this)),this.getData()},function(t){vm.$emit("hide-loader"),t.body.alerts?t.body.alerts.forEach(function(t){vm.$emit("add-alert",t)}.bind(this)):vm.$emit("add-alert",{type:"error",title:"AJAX error",message:t.statusText+" ("+t.status+")"})})},getData:function(){this.dataLoader=!0;var t={filters:this.filters,perPage:this.pagination.per_page,page:this.pagination.current,sortBy:this.sortField,sortOrder:this.sortDesc};this.withInactive&&(t.withInactive=1),this.$http.get(this.src,{params:t}).then(function(t){this.data=t.body.data,this.pagination.current=t.body.current_page,this.pagination.last=t.body.last_page,this.pagination.per_page=t.body.per_page,this.pagination.items=t.body.total,this.dataLoader=!1}.bind(this),function(t){this.dataLoader=!1,vm.$emit("add-alert",{type:"error",title:"AJAX error",message:t.statusText+" ("+t.status+")"})}.bind(this))},highlight:function(t,e){return e&&this.searchOn?t.replace(new RegExp("("+e+")","gi"),'<span class="highlighted">$1</span>'):t},paginate:function(t){this.pagination.current=t,this.getData()},performBulkAction:function(t,e,i,a){if(vm.$emit("show-loader"),a){var s=a.target.closest(".modal");if(s){var o=new Modal(s);o.close()}var n=document.querySelector(".bulk-actions");n&&n.classList.remove("open")}var r;"DOWNLOAD"==e?(r=Object.keys(this.selected).map(function(t){return encodeURIComponent(i+"["+t+"]")+"="+encodeURIComponent(this.selected[t])}.bind(this)).join("&"),window.location.href=t+"?"+r,this.bulkSelector=!1,this.selected=[],vm.$emit("hide-loader")):(r={},r[i]=this.selected,this.$http({method:e,params:r,url:t}).then(function(t){vm.$emit("hide-loader"),t.body.alerts&&t.body.alerts.forEach(function(t){vm.$emit("add-alert",t)}.bind(this)),this.getData(),this.bulkSelector=!1,this.selected=[]},function(t){vm.$emit("hide-loader"),t.body.alerts?t.body.alerts.forEach(function(t){vm.$emit("add-alert",t)}.bind(this)):vm.$emit("add-alert",{type:"error",title:"AJAX error",message:t.statusText+" ("+t.status+")"})}))},search:debounce(function(){this.getData(),this.pagination.current=1,this.searchOn=!0},500),selectAll:function(){this.selected.length!=this.pagination.items?(this.selected=[],this.data.forEach(function(t){this.selected.push(t.id)}.bind(this))):this.selected=[]},setdeleteURL:function(t){this.deleteURL=t},setInnerHTML:function(t,e){document.querySelector(t).innerHTML=e},setModalURL:function(t,e){document.querySelector(t+" form").action=e},setValue:function(t,e){document.querySelector(t).value=e},showAll:function(){this.pagination.current=1,this.pagination.per_page=0,this.getData()},sort:function(t){this.sortField==t&&(this.sortDesc=!this.sortDesc),this.sortField=t,this.getData()},toggleFilter:function(t){this.toggleOn[t]=!this.toggleOn[t],this.filters[t]=this.toggleOn[t],this.getData()}},props:{defaultSortField:{required:!0,type:String},sortReverse:{"default":!1,type:Boolean},src:{required:!0,type:String},withInactive:{"default":!1,type:Boolean}},updated:function(){var t=document.querySelectorAll(".modal"),e=t.length,i=0;for(i;e>i;i++){var a=t[i],s={};s.keyboard=a.getAttribute("data-keyboard"),s.backdrop=a.getAttribute("data-backdrop"),s.duration=a.getAttribute("data-duration"),new Modal(a,s)}}}),Vue.directive("flatpickr",{bind:function(t,e){t._flatpickr=flatpickr(t,e.value)},unbind:function(t){t._flatpickr.destroy()}});var vm=new Vue({el:"#chronos",created:function(){sessionStorage.getItem("alerts")&&"undefined"!==sessionStorage.getItem("alerts")&&(this.alerts=JSON.parse(sessionStorage.getItem("alerts")),sessionStorage.removeItem("alerts")),this.$on("add-alert",this.addAlert),this.$on("ajax-get",this.ajaxGet),this.$on("hide-loader",this.hideLoader),this.$on("show-loader",this.showLoader)},data:{alerts:[],offcanvas:!1,offcanvasOpen:"",loader:!1},methods:{addAlert:function(t){this.alerts.push(t)},ajaxGet:function(t,e){vm.$emit("show-loader"),this.$http.get(t).then(function(t){vm.$emit("hide-loader"),t.body.alerts&&t.body.alerts.forEach(function(t){vm.$emit("add-alert",t)}.bind(this)),"function"==typeof e&&e()},function(t){vm.$emit("hide-loader"),t.body.alerts?t.body.alerts.forEach(function(t){vm.$emit("add-alert",t)}.bind(this)):vm.$emit("add-alert",{type:"error",title:"AJAX error",message:t.statusText+" ("+t.status+")"})})},closeOffcanvas:function(){this.offcanvas=!1},deleteModelFromDialog:function(t){this.$emit("deleted-model-from-dialog",t.target.closest(".modal"))},hideLoader:function(){this.loader=!1},isOffcanvasOpen:function(t){return this.offcanvasOpen==t},performBulkAction:function(t,e,i,a){this.$emit("perform-bulk-action",t,e,i,a)},showLoader:function(){this.loader=!0},toggleOffcanvas:function(){this.offcanvas=!this.offcanvas},toggleOffcanvasOpen:function(t){this.isOffcanvasOpen(t)?this.offcanvasOpen="":this.offcanvasOpen=t}}});Vue.filter("strLimit",function(t,e){return t?t.limit(e):t}),Vue.filter("strSlug",function(t,e){return t.slugify(e)});
//# sourceMappingURL=./admin.min.js.map